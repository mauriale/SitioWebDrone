<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Servicios de Drones - Filmación, Fotografía y Más</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <link rel="stylesheet" href="css/styles.css">
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="img/favicon.png">
</head>
<body>
  <!-- Video de fondo -->
  <div class="video-container">
    <video class="video-background" autoplay muted loop>
      <source src="video/drone-background.mp4" type="video/mp4">
      Tu navegador no soporta videos HTML5.
    </video>
  </div>

  <!-- Contenido principal -->
  <div class="content">
    <!-- Cabecera -->
    <header>
      <div class="logo">DroneSky</div>
      <button id="menuBtn" class="menu-btn"><i class="fas fa-bars"></i></button>
      <ul id="navLinks" class="nav-links">
        <li><a href="#servicios">Servicios</a></li>
        <li><a href="#reservas">Reservas</a></li>
        <li><a href="#nosotros">Nosotros</a></li>
        <li><a href="#contacto">Contacto</a></li>
        <li><a href="#donaciones">Donar</a></li>
      </ul>
    </header>

    <!-- Hero section -->
    <section class="hero">
      <h1 class="animate-in">Captura el mundo desde las alturas</h1>
      <p class="tagline animate-in delay-1">Servicios profesionales de drones para filmación y fotografía aérea</p>
      <button class="cta-button animate-in delay-2" onclick="scrollToReservation()">Reserva ahora</button>
    </section>

    <!-- Servicios -->
    <section id="servicios" class="services-section">
      <h2>Nuestros Servicios</h2>
      <div id="servicios" class="services">
        <div id="servicesSpinner" class="spinner"></div>
        <!-- Los servicios se cargarán dinámicamente con JavaScript -->
      </div>
    </section>

    <!-- Formulario de reserva -->
    <section id="reservas" class="reservation">
      <h2>Reserva tu servicio</h2>
      <form id="reservationForm" class="reservation-form">
        <!-- Selección de servicio -->
        <div class="form-group">
          <label for="service">Servicio:</label>
          <select id="service" name="service" required>
            <option value="">Selecciona un servicio</option>
            <!-- Opciones cargadas dinámicamente -->
          </select>
        </div>

        <!-- Fecha -->
        <div class="form-group">
          <label for="date">Fecha:</label>
          <input type="text" id="date" name="date" placeholder="Selecciona una fecha" required readonly>
        </div>

        <!-- Hora -->
        <div class="form-group">
          <label for="start-time">Hora de inicio:</label>
          <select id="start-time" name="start_time" required>
            <option value="">Selecciona la hora</option>
            <!-- Opciones cargadas dinámicamente -->
          </select>
        </div>

        <!-- Duración -->
        <div class="form-group">
          <label for="duration">Duración:</label>
          <select id="duration" name="duration" required>
            <option value="">Selecciona duración</option>
            <!-- Opciones cargadas dinámicamente -->
          </select>
        </div>

        <!-- Resumen de precios -->
        <div id="priceSummary" class="price-summary">
          <h4>Resumen de Precios</h4>
          <p>Servicio: <span id="summaryServiceName"></span></p>
          <p>Precio por hora: €<span id="summaryPricePerHour"></span></p>
          <p>Duración: <span id="summaryDuration"></span> horas</p>
          <p class="total">Total: €<span id="summaryTotal"></span></p>
        </div>

        <!-- Datos de contacto -->
        <div class="form-group">
          <label for="name">Nombre completo:</label>
          <input type="text" id="name" name="name" placeholder="Tu nombre" required>
        </div>

        <div class="form-group">
          <label for="email">Email:</label>
          <input type="email" id="email" name="email" placeholder="Tu email" required>
        </div>

        <div class="form-group">
          <label for="phone">Teléfono:</label>
          <input type="tel" id="phone" name="phone" placeholder="Tu número de teléfono" required>
        </div>

        <!-- Ubicación -->
        <div class="form-group full-width">
          <label for="location">Ubicación del servicio:</label>
          <input type="text" id="location" name="location" placeholder="Introduce una dirección" required>
          <input type="hidden" id="latitude" name="latitude">
          <input type="hidden" id="longitude" name="longitude">
          <div id="map-container" style="height: 200px; margin-top: 10px; display: none;"></div>
          <p class="google-map-info">Puedes arrastrar el marcador para ajustar la ubicación exacta</p>
        </div>

        <!-- Instrucciones especiales -->
        <div class="form-group full-width">
          <label for="special-instructions">Instrucciones especiales (opcional):</label>
          <textarea id="special-instructions" name="special_instructions" placeholder="Cualquier detalle adicional que debamos conocer"></textarea>
        </div>

        <!-- Submit button -->
        <button type="submit" class="reservation-submit">Confirmar Reserva</button>
        
        <!-- Spinner de carga -->
        <div id="reservationSpinner" class="spinner" style="display: none;"></div>
        
        <!-- Mensaje de confirmación -->
        <div id="confirmationMessage" class="confirmation" style="display: none;">
          <i class="fas fa-check-circle" style="font-size: 2rem; margin-bottom: 15px;"></i>
          <h3>¡Reserva Confirmada!</h3>
          <p>Hemos recibido tu solicitud de reserva. Tu número de referencia es: <strong id="bookingNumber"></strong></p>
          <p>Recibirás un email con los detalles de la confirmación y las instrucciones a seguir.</p>
        </div>
        
        <!-- Mensaje de error -->
        <div id="errorMessage" class="error-message" style="display: none;">
          <i class="fas fa-exclamation-circle" style="font-size: 2rem; margin-bottom: 15px;"></i>
          <h3>Error</h3>
          <p id="errorText">Ha ocurrido un error. Por favor, intenta nuevamente.</p>
        </div>
      </form>
    </section>

    <!-- Sección de donaciones -->
    <section id="donaciones" class="donation-section">
      <h2>Apoya Nuestro Proyecto</h2>
      
      <div class="donation-content">
        <div class="donation-text">
          <p>Estamos desarrollando nuevas tecnologías de drones para:</p>
          <ul>
            <li>Monitoreo ambiental y conservación de ecosistemas</li>
            <li>Búsqueda y rescate en áreas de difícil acceso</li>
            <li>Proyectos educativos para enseñar tecnología a jóvenes</li>
          </ul>
          <p>Tu donación nos ayuda a continuar innovando y generando un impacto positivo.</p>
        </div>
        
        <div class="donation-options">
          <h3>Realiza tu aportación</h3>
          
          <div class="donation-amounts">
            <label>
              <input type="radio" name="amount" value="5"> €5
            </label>
            <label>
              <input type="radio" name="amount" value="10"> €10
            </label>
            <label>
              <input type="radio" name="amount" value="20" checked> €20
            </label>
            <label>
              <input type="radio" name="amount" value="50"> €50
            </label>
            <label>
              <input type="radio" name="amount" value="custom"> Otra cantidad
            </label>
          </div>
          
          <div id="paypal-button-container" class="paypal-button-container">
            <!-- PayPal button will be rendered here -->
          </div>
          
          <div class="donation-note">
            <p>* Todas las donaciones son procesadas de forma segura.</p>
            <p>* Recibirás un recibo por email.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer>
      <p>&copy; 2023 DroneSky - Todos los derechos reservados</p>
      <div class="social-links">
        <a href="#" class="social-link"><i class="fab fa-facebook"></i></a>
        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
        <a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
        <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
      </div>
    </footer>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <!-- Cargar Google Maps con la API key directamente -->
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAaRU4nc4ScsuEFC8_9DBAc8iVeFx6gPDQ&libraries=places&callback=initMap" async defer></script>
  <script src="js/booking.js"></script>
</body>
</html>